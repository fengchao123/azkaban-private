#*
 * Copyright 2012 LinkedIn Corp.
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy of
 * the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
*#

  ## Graph view.
<!--[if lt IE 9]>
<?import namespace="v" implementation="#default#VML" ?>
<![endif]-->

<script type="text/javascript">
var property={
	width:1400,
	height:700,
	toolBtns:["command","hive","druidIndex"],
	haveHead:true,
	headBtns:[],//如果haveHead=true，则定义HEAD区的按钮
	haveTool:true,
	haveGroup:false,
	useOperStack:true
};
var remark={
	command:"shell脚本",
    hive:"hive脚本",
    druidIndex:"druidio作业"
};
var flow;
$(document).ready(function(){
	flow=$.createGooFlow($("#flow"),property);
	flow.setNodeRemarks(remark);
	flow.onItemDel=function(id,type){
		return confirm("确定要删除该单元吗?");
	}
	jsondata={
		title:"${project.name}",
		nodes:${gnode},
		lines:${gline}
	};
	flow.$max=9;
	flow.loadData(jsondata);

});
</script>


<div style="width:1400px;margin-left:auto;margin-right:auto">
<div id="flow"></div>
</div>

<input id="project_name" type="hidden" value="${project.name}"/>
      <div class="modal modal-wide" id="job-edit-pane">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true" id="close-btn">&times;</button>
              <h4 class="modal-title">编辑作业</h4>
            </div>
            <div class="modal-body">
              <h4>基本信息</h4>
              <table class="table table-bordered table-condensed">
                <tbody>
                  <tr>
                    <td class="property-key">作业名称</td>
                    <td id="jobName"></td>
                  </tr>
                  <tr>
                    <td class="property-key">作业类型</td>
                    <td id="jobType"></td>
                  </tr>
                </tbody>
              <table>
              <h4>配置信息</h4>

              <table id="generalProps" class="table table-striped table-bordered">
                <thead>
                  <tr>
                    <th class="property-key">参数名</th>
                    <th>值</th>
                  </tr>
                </thead>
                <tbody>
                  <tr id="addRow">
                    <td id="addRow-col" colspan="2">
                      <button type="button" class="btn btn-xs btn-success" id="add-btn">添加</button>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div id="script_editor"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" id="cancel-btn" data-dismiss="modal">取消</button>
              <button type="button" class="btn btn-primary" id="set-btn2">保存</button>
            </div>
          </div>
        </div>
      </div>







